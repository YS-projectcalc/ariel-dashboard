(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7118:function(e,t,o){Promise.resolve().then(o.bind(o,3567))},3567:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Home}});var r=o(7437),n=o(2265);function timeAgo(e){if(!e)return"";let t=new Date(e),o=new Date,r=o-t,n=Math.floor(r/6e4),i=Math.floor(r/36e5),l=Math.floor(r/864e5);return n<1?"just now":n<60?"".concat(n,"m ago"):i<24?"".concat(i,"h ago"):l<7?"".concat(l,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function getCompletedIds(){try{return JSON.parse(localStorage.getItem("cc_done")||"[]")}catch(e){return[]}}function getDragOverrides(){try{return JSON.parse(localStorage.getItem("cc_drag")||"{}")}catch(e){return{}}}function saveDragOverrides(e){localStorage.setItem("cc_drag",JSON.stringify(e))}function getUserTasks(){try{return JSON.parse(localStorage.getItem("cc_user_tasks")||"[]")}catch(e){return[]}}function saveUserTasks(e){localStorage.setItem("cc_user_tasks",JSON.stringify(e))}function getAllTasks(e){let t=e.tasks||{};return[...t.todo||[],...t.upnext||[],...t.in_progress||[],...t.done||[]]}function isInDoneArray(e,t){return((t.tasks||{}).done||[]).some(t=>t.id===e.id)}function isInUpnextArray(e,t){return((t.tasks||{}).upnext||[]).some(t=>t.id===e.id)}function isTaskDone(e,t,o){return!!o.includes(e.id)||isInDoneArray(e,t)}function getAssignees(e){let t=new Set;return getAllTasks(e).forEach(e=>{e.assignee&&t.add(e.assignee)}),Array.from(t)}let i={high:0,medium:1,low:2};function sortByPriority(e){return[...e].sort((e,t)=>{var o,r;return(null!==(o=i[e.priority])&&void 0!==o?o:1)-(null!==(r=i[t.priority])&&void 0!==r?r:1)})}function AddTaskForm(e){let{projectId:t,column:o,assignee:i,accentColor:l,onAdd:s,onCancel:a}=e,[d,c]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[g,u]=(0,n.useState)("medium"),f={width:"100%",boxSizing:"border-box",backgroundColor:"#163344",border:"1px solid #334155",borderRadius:"6px",padding:"8px 10px",color:"#f8fafc",fontSize:"13px",outline:"none",fontFamily:"inherit"};return(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!d.trim())return;let r={id:"u-"+Date.now().toString(36),title:d.trim(),description:p.trim()||void 0,priority:g,tags:["user-added"],assignee:i||void 0,createdAt:new Date().toISOString(),_userAdded:!0,_projectId:t,_column:o};s(r),c(""),x(""),u("medium")},style:{backgroundColor:"#0a2233",borderRadius:"8px",padding:"12px",marginBottom:"8px",borderLeft:"3px solid ".concat(l)},children:[(0,r.jsx)("input",{autoFocus:!0,placeholder:"Task title...",value:d,onChange:e=>c(e.target.value),style:f}),(0,r.jsx)("textarea",{placeholder:"Description (optional)",value:p,onChange:e=>x(e.target.value),rows:2,style:{...f,marginTop:"6px",resize:"vertical"}}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"8px"},children:[["high","medium","low"].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>u(e),style:{padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:600,border:g===e?"1px solid":"1px solid transparent",borderColor:g===e?"high"===e?"#fb923c":"medium"===e?"#a78bfa":"#64748b":"transparent",backgroundColor:"high"===e?"#451a03":"medium"===e?"#1e1b4b":"#0f172a",color:"high"===e?"#fb923c":"medium"===e?"#a78bfa":"#64748b",cursor:"pointer"},children:e.charAt(0).toUpperCase()+e.slice(1)},e)),(0,r.jsx)("div",{style:{flex:1}}),(0,r.jsx)("button",{type:"button",onClick:a,style:{background:"none",border:"none",color:"#64748b",cursor:"pointer",fontSize:"12px",padding:"4px 8px"},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:!d.trim(),style:{backgroundColor:d.trim()?l:"#334155",color:d.trim()?"#fff":"#64748b",border:"none",borderRadius:"6px",padding:"5px 12px",fontSize:"12px",fontWeight:600,cursor:d.trim()?"pointer":"default"},children:"Add"})]})]})}function AddButton(e){let{onClick:t,color:o}=e;return(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),t()},style:{width:"20px",height:"20px",borderRadius:"4px",border:"1px solid #334155",background:"none",color:"#64748b",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,lineHeight:1,transition:"all 0.15s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=o,e.currentTarget.style.color=o},onMouseLeave:e=>{e.currentTarget.style.borderColor="#334155",e.currentTarget.style.color="#64748b"},title:"Add task",children:"+"})}function ProjectOverviewCard(e){let t,{project:o,completedIds:n,dragOverrides:i,onClick:l,userTasks:s}=e,a=(s||[]).filter(e=>e._projectId===o.id),d=[...getAllTasks(o),...a],c=getAssignees(o),p=c.length>0,getEffectiveColumn=e=>{let t=i[e.id];return"__done__"===t?"done":"__upnext__"===t?"upnext":"__todo__"===t?"todo":isTaskDone(e,o,n)?"done":e._userAdded?"__upnext__"===e._column?"upnext":"todo":isInUpnextArray(e,o)?"upnext":"todo"},x=d.filter(e=>"done"===getEffectiveColumn(e)).length,g={mordy:"#f97316",yaakov:"#8b5cf6"};if(p){let e=d.filter(e=>"done"!==getEffectiveColumn(e));t=c.map(t=>({label:t.charAt(0).toUpperCase()+t.slice(1),count:e.filter(e=>(e.assignee||"")===t).length,color:g[t]||"#60a5fa"}));let o=e.filter(e=>!e.assignee).length;o>0&&t.unshift({label:"General",count:o,color:"#94a3b8"}),t.push({label:"Done",count:x,color:"#4ade80"})}else{let e=d.filter(e=>"todo"===getEffectiveColumn(e)).length,o=d.filter(e=>"upnext"===getEffectiveColumn(e)).length;t=[{label:"To Do",count:e,color:"#94a3b8"},{label:"Up Next",count:o,color:"#60a5fa"},{label:"Done",count:x,color:"#4ade80"}]}return(0,r.jsxs)("div",{onClick:l,style:{backgroundColor:"#163344",borderRadius:"12px",border:"1px solid #1e4258",padding:"24px",cursor:"pointer",transition:"border-color 0.15s, transform 0.15s",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.borderColor=o.color,e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#1e4258",e.currentTarget.style.transform="translateY(0)"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",backgroundColor:o.color}}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,r.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:o.color+"20",color:o.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:700},children:o.icon||o.name.charAt(0)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:700,fontSize:"16px",color:"#f8fafc"},children:o.name}),o.description&&(0,r.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"},children:o.description})]})]}),(0,r.jsx)("div",{style:{display:"flex",gap:"6px"},children:t.map(e=>(0,r.jsxs)("div",{style:{flex:1,textAlign:"center",padding:"8px 4px",borderRadius:"8px",backgroundColor:"#0a2233"},children:[(0,r.jsx)("div",{style:{fontSize:"18px",fontWeight:700,color:e.color},children:e.count}),(0,r.jsx)("div",{style:{fontSize:"9px",color:"#64748b",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.5px"},children:e.label})]},e.label))})]})}function TaskCard(e){let{task:t,accentColor:o,isDone:n,onToggle:i}=e,l={high:{bg:"#451a03",text:"#fb923c",label:"High"},medium:{bg:"#1e1b4b",text:"#a78bfa",label:"Medium"},low:{bg:"#0f172a",text:"#64748b",label:"Low"}}[t.priority]||null;return(0,r.jsx)("div",{draggable:"true",onDragStart:e=>{e.dataTransfer.setData("text/plain",t.id),e.dataTransfer.effectAllowed="move",e.currentTarget.style.opacity="0.4"},onDragEnd:e=>{e.currentTarget.style.opacity=n?"0.6":"1"},style:{backgroundColor:"#0a2233",borderRadius:"8px",padding:"14px",borderLeft:"3px solid ".concat(n?"#4ade80":o),marginBottom:"8px",opacity:n?.6:1,transition:"opacity 0.2s",cursor:"grab"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[(0,r.jsx)("div",{onClick:e=>{e.stopPropagation(),i(t.id)},style:{width:"20px",height:"20px",minWidth:"20px",borderRadius:"4px",border:n?"2px solid #4ade80":"2px solid #475569",backgroundColor:n?"#4ade8020":"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"1px",transition:"all 0.15s"},onMouseEnter:e=>{n||(e.currentTarget.style.borderColor="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.borderColor="#475569")},children:n&&(0,r.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,r.jsx)("path",{d:"M2 6L5 9L10 3",stroke:"#4ade80",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontWeight:600,fontSize:"13px",color:n?"#64748b":"#f8fafc",marginBottom:"4px",lineHeight:1.4,textDecoration:n?"line-through":"none"},children:t.title}),t.description&&!n&&(0,r.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8",lineHeight:1.4,marginBottom:"8px"},children:t.description}),!n&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[l&&(0,r.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",fontWeight:600,backgroundColor:l.bg,color:l.text},children:l.label}),t.assignee&&(0,r.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",fontWeight:600,backgroundColor:"mordy"===t.assignee?"#7c2d1220":"#4c1d9520",color:"mordy"===t.assignee?"#f97316":"#8b5cf6"},children:t.assignee}),t.tags&&t.tags.map(e=>(0,r.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",backgroundColor:"#163344",color:"#94a3b8"},children:e},e))]})]})]})})}function TaskColumn(e){let{title:t,tasks:o,accentColor:i,emptyText:l,dotColor:s,completedIds:a,onToggle:d,project:c,columnId:p,onDrop:x,onAddTask:g,showAddForm:u,onToggleAddForm:f}=e,[h,m]=(0,n.useState)(!1);return(0,r.jsxs)("div",{style:{flex:1,minWidth:"220px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"0 4px"},children:[(0,r.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:s}}),(0,r.jsx)("span",{style:{fontSize:"12px",fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:t}),(0,r.jsx)("span",{style:{fontSize:"11px",color:"#475569",backgroundColor:"#0a2233",padding:"1px 6px",borderRadius:"4px",fontWeight:600},children:o.length}),f&&"__done__"!==p&&(0,r.jsx)(AddButton,{onClick:f,color:s})]}),(0,r.jsxs)("div",{onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",h||m(!0)},onDragEnter:e=>{e.preventDefault(),m(!0)},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||m(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1);let t=e.dataTransfer.getData("text/plain");t&&x&&x(t,p)},style:{backgroundColor:h?s+"10":"#1e293b",borderRadius:"10px",padding:"10px",minHeight:"120px",border:h?"2px dashed ".concat(s):"1px solid #334155",maxHeight:"70vh",overflowY:"auto",transition:"border 0.15s, background-color 0.15s"},children:[u&&(0,r.jsx)(AddTaskForm,{projectId:c.id,column:p,assignee:"__todo__"!==p&&"__upnext__"!==p&&"__done__"!==p?p:void 0,accentColor:i,onAdd:e=>{g&&g(e)},onCancel:f}),0!==o.length||u?o.map((e,t)=>(0,r.jsx)(TaskCard,{task:e,accentColor:i,isDone:isTaskDone(e,c,a),onToggle:d},e.id||t)):(0,r.jsx)("div",{style:{padding:"20px",textAlign:"center",fontSize:"12px",color:h?s:"#475569",fontStyle:"italic"},children:h?"Drop here":l})]})]})}function DetailHeader(e){let{project:t,onBack:o}=e;return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[(0,r.jsxs)("button",{onClick:o,style:{background:"none",border:"1px solid #1e4258",borderRadius:"8px",color:"#94a3b8",padding:"8px 14px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",transition:"border-color 0.15s"},onMouseEnter:e=>e.currentTarget.style.borderColor="#64748b",onMouseLeave:e=>e.currentTarget.style.borderColor="#334155",children:[(0,r.jsx)("span",{style:{fontSize:"16px"},children:"←"})," All Projects"]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"8px",backgroundColor:t.color+"20",color:t.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:700},children:t.icon||t.name.charAt(0)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:700,fontSize:"20px",color:"#f8fafc"},children:t.name}),t.description&&(0,r.jsx)("div",{style:{fontSize:"13px",color:"#64748b"},children:t.description})]})]})]})}function ProjectDetailView(e){let{project:t,onBack:o,completedIds:i,onToggle:l,dragOverrides:s,onDragDrop:a,userTasks:d,onAddUserTask:c}=e,[p,x]=(0,n.useState)(null),g=d.filter(e=>e._projectId===t.id),u=getAllTasks(t),f=[...u,...g],h=getAssignees(t);g.forEach(e=>{e.assignee&&!h.includes(e.assignee)&&h.push(e.assignee)});let m=h.length>0,getEffectiveColumn=e=>{let o=s[e.id];return"__done__"===o?"done":"__upnext__"===o?"upnext":"__todo__"===o?"todo":o&&"__done__"!==o&&"__upnext__"!==o&&"__todo__"!==o?"assignee:"+o:isTaskDone(e,t,i)?"done":e._userAdded?"__upnext__"===e._column?"upnext":"__done__"===e._column?"done":(e._column&&e._column.startsWith("__"),"todo"):isInUpnextArray(e,t)?"upnext":"todo"},getEffectiveAssignee=e=>{let t=s[e.id];return t&&!t.startsWith("__")?t:e.assignee},handleDrop=(e,o)=>{a&&a(e,o,t.id)},handleAddTask=e=>{c(e),x(null)},y={mordy:"#f97316",yaakov:"#8b5cf6"};if(m){let e=f.filter(e=>"done"===getEffectiveColumn(e)),n=f.filter(e=>"done"!==getEffectiveColumn(e)),s=h.map(e=>({name:e,tasks:sortByPriority(n.filter(t=>(getEffectiveAssignee(t)||"")===e))})),a=sortByPriority(n.filter(e=>!getEffectiveAssignee(e)));return(0,r.jsxs)("div",{children:[(0,r.jsx)(DetailHeader,{project:t,onBack:o}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",overflowX:"auto",paddingBottom:"8px"},children:[s.map(e=>(0,r.jsx)(TaskColumn,{title:"".concat(e.name.charAt(0).toUpperCase()+e.name.slice(1)," To-Do"),tasks:e.tasks,accentColor:y[e.name]||"#60a5fa",dotColor:y[e.name]||"#60a5fa",emptyText:"Nothing for ".concat(e.name),completedIds:i,onToggle:l,project:t,columnId:e.name,onDrop:handleDrop,showAddForm:p===e.name,onToggleAddForm:()=>x(p===e.name?null:e.name),onAddTask:handleAddTask},e.name)),(a.length>0||"__general__"===p)&&(0,r.jsx)(TaskColumn,{title:"General",tasks:a,accentColor:"#94a3b8",dotColor:"#94a3b8",emptyText:"No general tasks",completedIds:i,onToggle:l,project:t,columnId:"__todo__",onDrop:handleDrop,showAddForm:"__general__"===p,onToggleAddForm:()=>x("__general__"===p?null:"__general__"),onAddTask:handleAddTask}),(0,r.jsx)(TaskColumn,{title:"Done",tasks:e,accentColor:"#4ade80",dotColor:"#4ade80",emptyText:"Nothing completed yet",completedIds:i,onToggle:l,project:t,columnId:"__done__",onDrop:handleDrop})]})]})}let b=sortByPriority(f.filter(e=>"todo"===getEffectiveColumn(e))),_=sortByPriority(f.filter(e=>"upnext"===getEffectiveColumn(e))),j=f.filter(e=>"done"===getEffectiveColumn(e));return(0,r.jsxs)("div",{children:[(0,r.jsx)(DetailHeader,{project:t,onBack:o}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",overflowX:"auto",paddingBottom:"8px"},children:[(0,r.jsx)(TaskColumn,{title:"To Do",tasks:b,accentColor:"#94a3b8",dotColor:"#94a3b8",emptyText:"Backlog empty",completedIds:i,onToggle:l,project:t,columnId:"__todo__",onDrop:handleDrop,showAddForm:"__todo__"===p,onToggleAddForm:()=>x("__todo__"===p?null:"__todo__"),onAddTask:handleAddTask}),(0,r.jsx)(TaskColumn,{title:"Up Next",tasks:_,accentColor:"#60a5fa",dotColor:"#60a5fa",emptyText:"Nothing queued",completedIds:i,onToggle:l,project:t,columnId:"__upnext__",onDrop:handleDrop,showAddForm:"__upnext__"===p,onToggleAddForm:()=>x("__upnext__"===p?null:"__upnext__"),onAddTask:handleAddTask}),(0,r.jsx)(TaskColumn,{title:"Done",tasks:j,accentColor:"#4ade80",dotColor:"#4ade80",emptyText:"Nothing completed yet",completedIds:i,onToggle:l,project:t,columnId:"__done__",onDrop:handleDrop})]})]})}function GeneralTodoItem(e){let{todo:t,isDone:o,onToggle:n}=e,i={high:{bg:"#451a03",text:"#fb923c",label:"High"},medium:{bg:"#1e1b4b",text:"#a78bfa",label:"Medium"},low:{bg:"#0f172a",text:"#64748b",label:"Low"}}[t.priority]||null;return(0,r.jsx)("div",{style:{backgroundColor:"#0a2233",borderRadius:"8px",padding:"14px",borderLeft:"3px solid ".concat(o?"#4ade80":"#60a5fa"),opacity:o?.6:1,transition:"opacity 0.2s"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[(0,r.jsx)("div",{onClick:()=>n(t.id),style:{width:"20px",height:"20px",minWidth:"20px",borderRadius:"4px",border:o?"2px solid #4ade80":"2px solid #475569",backgroundColor:o?"#4ade8020":"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"1px",transition:"all 0.15s"},onMouseEnter:e=>{o||(e.currentTarget.style.borderColor="#94a3b8")},onMouseLeave:e=>{o||(e.currentTarget.style.borderColor="#475569")},children:o&&(0,r.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,r.jsx)("path",{d:"M2 6L5 9L10 3",stroke:"#4ade80",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontWeight:600,fontSize:"13px",color:o?"#64748b":"#f8fafc",marginBottom:"4px",lineHeight:1.4,textDecoration:o?"line-through":"none"},children:t.title}),t.description&&!o&&(0,r.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8",lineHeight:1.4,marginBottom:"8px"},children:t.description}),!o&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[i&&(0,r.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",fontWeight:600,backgroundColor:i.bg,color:i.text},children:i.label}),t.tags&&t.tags.map(e=>(0,r.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",backgroundColor:"#163344",color:"#94a3b8"},children:e},e))]})]})]})})}function GeneralTodosSection(e){let{todos:t,completedIds:o,onToggle:i,userTasks:l,onAddUserTask:s}=e,a=[...t||[],...(l||[]).filter(e=>!e._projectId)],d=a.filter(e=>!o.includes(e.id)),c=a.filter(e=>o.includes(e.id)),[p,x]=(0,n.useState)(!1);return(0,r.jsxs)("div",{style:{marginTop:"32px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[(0,r.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#60a5fa"}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:700,color:"#f8fafc"},children:"General To-Do"}),(0,r.jsx)("span",{style:{fontSize:"11px",color:"#475569",backgroundColor:"#163344",padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:d.length}),(0,r.jsx)(AddButton,{onClick:()=>x(!p),color:"#60a5fa"})]}),p&&(0,r.jsx)("div",{style:{marginBottom:"12px",maxWidth:"400px"},children:(0,r.jsx)(AddTaskForm,{projectId:null,column:"__todo__",accentColor:"#60a5fa",onAdd:e=>{s({...e,_projectId:null}),x(!1)},onCancel:()=>x(!1)})}),0!==a.length||p?(0,r.jsxs)("div",{style:{display:"grid",gap:"8px",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))"},children:[d.map(e=>(0,r.jsx)(GeneralTodoItem,{todo:e,isDone:!1,onToggle:i},e.id)),c.map(e=>(0,r.jsx)(GeneralTodoItem,{todo:e,isDone:!0,onToggle:i},e.id))]}):(0,r.jsx)("div",{style:{backgroundColor:"#163344",borderRadius:"10px",border:"1px solid #1e4258",padding:"24px",textAlign:"center",fontSize:"13px",color:"#475569",fontStyle:"italic"},children:"No general to-dos yet"})]})}function PotentialBusinessRow(e){let{biz:t,isExpanded:o,onToggle:n}=e;return(0,r.jsxs)("div",{style:{backgroundColor:"#163344",borderRadius:"10px",border:"1px solid #1e4258",overflow:"hidden",transition:"border-color 0.15s"},children:[(0,r.jsxs)("div",{onClick:n,style:{padding:"16px 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"14px",transition:"background-color 0.15s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#253347",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("span",{style:{fontSize:"14px",color:"#64748b",transition:"transform 0.2s",transform:o?"rotate(90deg)":"rotate(0deg)",display:"inline-block"},children:"▶"}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontWeight:600,fontSize:"14px",color:"#f8fafc"},children:t.title}),t.idea&&!o&&(0,r.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"4px",lineHeight:1.4},children:t.idea})]})]}),o&&(0,r.jsxs)("div",{style:{padding:"0 20px 16px 48px",borderTop:"1px solid #334155"},children:[t.idea&&(0,r.jsx)("div",{style:{fontSize:"13px",color:"#94a3b8",marginTop:"12px",lineHeight:1.5},children:t.idea}),t.notes&&(0,r.jsx)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#0a2233",borderRadius:"8px",fontSize:"13px",color:"#cbd5e1",lineHeight:1.6,whiteSpace:"pre-wrap"},children:t.notes}),!t.notes&&(0,r.jsx)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#0a2233",borderRadius:"8px",fontSize:"12px",color:"#475569",fontStyle:"italic"},children:"No notes yet"})]})]})}function PotentialBusinessesSection(e){let{businesses:t}=e,[o,i]=(0,n.useState)(null);return t&&0!==t.length?(0,r.jsxs)("div",{style:{marginTop:"32px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[(0,r.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#f59e0b"}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:700,color:"#f8fafc"},children:"Potential Businesses"}),(0,r.jsx)("span",{style:{fontSize:"11px",color:"#475569",backgroundColor:"#163344",padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:t.length})]}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map(e=>(0,r.jsx)(PotentialBusinessRow,{biz:e,isExpanded:o===e.id,onToggle:()=>i(o===e.id?null:e.id)},e.id))})]}):(0,r.jsxs)("div",{style:{marginTop:"32px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[(0,r.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#f59e0b"}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:700,color:"#f8fafc"},children:"Potential Businesses"}),(0,r.jsx)("span",{style:{fontSize:"11px",color:"#475569",backgroundColor:"#163344",padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:"0"})]}),(0,r.jsx)("div",{style:{backgroundColor:"#163344",borderRadius:"10px",border:"1px solid #1e4258",padding:"24px",textAlign:"center",fontSize:"13px",color:"#475569",fontStyle:"italic"},children:"No ideas yet — add them to status.json under potentialBusinesses"})]})}function Home(){let[e,t]=(0,n.useState)(null),[o,i]=(0,n.useState)(null),[l,s]=(0,n.useState)(null),[a,d]=(0,n.useState)([]),[c,p]=(0,n.useState)({}),[x,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{d(getCompletedIds()),p(getDragOverrides()),g(getUserTasks())},[]);let u=(0,n.useCallback)(e=>{g(t=>{let o=[...t,e];return saveUserTasks(o),o})},[]),f=(0,n.useCallback)(e=>{d(t=>{let o=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("cc_done",JSON.stringify(o)),o}),p(t=>{let o={...t};return delete o[e],saveDragOverrides(o),o})},[]),h=(0,n.useCallback)((e,t,o)=>{if(e){if("__done__"===t)d(t=>{if(t.includes(e))return t;let o=[...t,e];return localStorage.setItem("cc_done",JSON.stringify(o)),o}),p(t=>{let o={...t};return o[e]="__done__",saveDragOverrides(o),o});else{let o=getCompletedIds().filter(t=>t!==e);localStorage.setItem("cc_done",JSON.stringify(o)),d(o);let r={...getDragOverrides(),[e]:t};saveDragOverrides(r),p(r)}}},[]);if((0,n.useEffect)(()=>{let load=async()=>{try{let e=await fetch("/status.json?t="+Date.now());if(!e.ok)throw Error("HTTP ".concat(e.status));t(await e.json())}catch(e){s(e.message)}};load();let e=setInterval(load,6e4);return()=>clearInterval(e)},[]),l)return(0,r.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#143d4f",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,r.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",color:"#f87171",padding:"40px",textAlign:"center"},children:["Failed to load: ",l]})});if(!e)return(0,r.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#143d4f",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,r.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",color:"#64748b",padding:"40px",textAlign:"center"},children:"Loading..."})});let m=e.projects||[],y=e.todos||[],b=o?m.find(e=>e.id===o):null,_=m.map(e=>({project:e,key:e.id})),getEffCol=(e,t)=>{let o=c[e.id];return"__done__"===o?"done":"__upnext__"===o?"upnext":"__todo__"===o?"todo":isTaskDone(e,t,a)?"done":isInUpnextArray(e,t)?"upnext":"todo"},j=0,v=0,k=0;m.forEach(e=>{getAllTasks(e).forEach(t=>{let o=getEffCol(t,e);"done"===o?k++:"upnext"===o?v++:j++})}),x.forEach(e=>{a.includes(e.id)?k++:"__upnext__"===e._column?v++:j++});let C=j+v+k+y.length;return(0,r.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#143d4f",padding:"24px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#f8fafc"},children:(0,r.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,r.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",paddingBottom:"16px",borderBottom:"1px solid #1e4258"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:800,color:"#fff"},children:"CC"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:700,fontSize:"18px",color:"#f8fafc"},children:"Command Center"}),(0,r.jsxs)("div",{style:{fontSize:"12px",color:"#64748b"},children:[m.length," projects \xb7 ",C," tasks"]})]})]}),e.lastUpdated&&(0,r.jsxs)("div",{style:{fontSize:"12px",color:"#64748b"},children:["Updated ",timeAgo(e.lastUpdated)]})]}),b?(0,r.jsx)(ProjectDetailView,{project:b,onBack:()=>i(null),completedIds:a,onToggle:f,dragOverrides:c,onDragDrop:h,userTasks:x,onAddUserTask:u}):(0,r.jsxs)(r.Fragment,{children:[C>0&&(0,r.jsx)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[{label:"To Do",count:j,color:"#94a3b8"},{label:"Up Next",count:v,color:"#60a5fa"},{label:"Done",count:k,color:"#4ade80"}].map(e=>(0,r.jsxs)("div",{style:{flex:1,backgroundColor:"#163344",borderRadius:"10px",border:"1px solid #1e4258",padding:"16px",textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"28px",fontWeight:700,color:e.color},children:e.count}),(0,r.jsx)("div",{style:{fontSize:"11px",color:"#64748b",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.5px"},children:e.label})]},e.label))}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:_.map(e=>(0,r.jsx)(ProjectOverviewCard,{project:e.project,completedIds:a,dragOverrides:c,onClick:()=>i(e.project.id),userTasks:x},e.key))}),(0,r.jsx)(GeneralTodosSection,{todos:y,completedIds:a,onToggle:f,userTasks:x,onAddUserTask:u}),(0,r.jsx)(PotentialBusinessesSection,{businesses:e.potentialBusinesses||[]})]})]})})}},622:function(e,t,o){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=o(2265),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,o){var r,i={},d=null,c=null;for(r in void 0!==o&&(d=""+o),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!a.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:n,type:e,key:d,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,o){"use strict";e.exports=o(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7118)}),_N_E=e.O()}]);