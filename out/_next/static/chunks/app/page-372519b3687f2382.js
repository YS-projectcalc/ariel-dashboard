(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7118:function(e,t,r){Promise.resolve().then(r.bind(r,3567))},3567:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var o=r(7437),n=r(2265);function timeAgo(e){if(!e)return"";let t=new Date(e),r=new Date,o=r-t,n=Math.floor(o/6e4),i=Math.floor(o/36e5),l=Math.floor(o/864e5);return n<1?"just now":n<60?"".concat(n,"m ago"):i<24?"".concat(i,"h ago"):l<7?"".concat(l,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function getCompletedIds(){try{return JSON.parse(localStorage.getItem("cc_done")||"[]")}catch(e){return[]}}function getDragOverrides(){try{return JSON.parse(localStorage.getItem("cc_drag")||"{}")}catch(e){return{}}}function saveDragOverrides(e){localStorage.setItem("cc_drag",JSON.stringify(e))}function getAllTasks(e){let t=e.tasks||{todo:[],in_progress:[],done:[]};return[...t.todo,...t.in_progress||[],...t.done||[]]}function isTaskDone(e,t,r){if(r.includes(e.id))return!0;let o=(t.tasks||{}).done||[];return o.some(t=>t.id===e.id)}function getAssignees(e){let t=getAllTasks(e),r=new Set;return t.forEach(e=>{e.assignee&&r.add(e.assignee)}),Array.from(r)}let i={high:0,medium:1,low:2};function sortByPriority(e){return[...e].sort((e,t)=>{var r,o;return(null!==(r=i[e.priority])&&void 0!==r?r:1)-(null!==(o=i[t.priority])&&void 0!==o?o:1)})}function ProjectOverviewCard(e){let{project:t,completedIds:r,onClick:n,subtitle:i,filterAssignee:l}=e,s=getAllTasks(t),a=void 0!==l?s.filter(e=>l?e.assignee===l:!e.assignee):s,d=a.filter(e=>isTaskDone(e,t,r)).length,c=a.length-d;return(0,o.jsxs)("div",{onClick:n,style:{backgroundColor:"#1e293b",borderRadius:"12px",border:"1px solid #334155",padding:"24px",cursor:"pointer",transition:"border-color 0.15s, transform 0.15s",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.borderColor=t.color,e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#334155",e.currentTarget.style.transform="translateY(0)"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",backgroundColor:t.color}}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,o.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:t.color+"20",color:t.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:700},children:t.icon||t.name.charAt(0)}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:700,fontSize:"16px",color:"#f8fafc"},children:i||t.name}),t.description&&!i&&(0,o.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"},children:t.description}),i&&(0,o.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"},children:t.description||t.name})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,o.jsxs)("div",{style:{flex:1,textAlign:"center",padding:"8px 4px",borderRadius:"8px",backgroundColor:"#0f172a"},children:[(0,o.jsx)("div",{style:{fontSize:"20px",fontWeight:700,color:"#94a3b8"},children:c}),(0,o.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.5px"},children:"Up Next"})]}),(0,o.jsxs)("div",{style:{flex:1,textAlign:"center",padding:"8px 4px",borderRadius:"8px",backgroundColor:"#0f172a"},children:[(0,o.jsx)("div",{style:{fontSize:"20px",fontWeight:700,color:"#4ade80"},children:d}),(0,o.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.5px"},children:"Done"})]})]})]})}function TaskCard(e){let{task:t,accentColor:r,isDone:n,onToggle:i,onDragStart:l,onDragEnd:s}=e,a={high:{bg:"#451a03",text:"#fb923c",label:"High"},medium:{bg:"#1e1b4b",text:"#a78bfa",label:"Medium"},low:{bg:"#0f172a",text:"#64748b",label:"Low"}}[t.priority]||null;return(0,o.jsx)("div",{draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",t.id),e.dataTransfer.effectAllowed="move",e.currentTarget.style.opacity="0.4",l&&l(t.id)},onDragEnd:e=>{e.currentTarget.style.opacity=n?"0.6":"1",s&&s()},style:{backgroundColor:"#0f172a",borderRadius:"8px",padding:"14px",borderLeft:"3px solid ".concat(n?"#4ade80":r),marginBottom:"8px",opacity:n?.6:1,transition:"opacity 0.2s",cursor:"grab"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[(0,o.jsx)("div",{onClick:e=>{e.stopPropagation(),i(t.id)},style:{width:"20px",height:"20px",minWidth:"20px",borderRadius:"4px",border:n?"2px solid #4ade80":"2px solid #475569",backgroundColor:n?"#4ade8020":"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"1px",transition:"all 0.15s"},onMouseEnter:e=>{n||(e.currentTarget.style.borderColor="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.borderColor="#475569")},children:n&&(0,o.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,o.jsx)("path",{d:"M2 6L5 9L10 3",stroke:"#4ade80",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)("div",{style:{fontWeight:600,fontSize:"13px",color:n?"#64748b":"#f8fafc",marginBottom:"4px",lineHeight:1.4,textDecoration:n?"line-through":"none"},children:t.title}),t.description&&!n&&(0,o.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8",lineHeight:1.4,marginBottom:"8px"},children:t.description}),!n&&(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[a&&(0,o.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",fontWeight:600,backgroundColor:a.bg,color:a.text},children:a.label}),t.tags&&t.tags.map(e=>(0,o.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",backgroundColor:"#1e293b",color:"#94a3b8"},children:e},e))]})]})]})})}function TaskColumn(e){let{title:t,tasks:r,accentColor:i,emptyText:l,dotColor:s,completedIds:a,onToggle:d,project:c,columnId:p,onDrop:g,draggingId:x}=e,[f,u]=(0,n.useState)(!1);return(0,o.jsxs)("div",{style:{flex:1,minWidth:"240px"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"0 4px"},children:[(0,o.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:s}}),(0,o.jsx)("span",{style:{fontSize:"12px",fontWeight:700,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:t}),(0,o.jsx)("span",{style:{fontSize:"11px",color:"#475569",backgroundColor:"#0f172a",padding:"1px 6px",borderRadius:"4px",fontWeight:600},children:r.length})]}),(0,o.jsx)("div",{onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",f||u(!0)},onDragEnter:e=>{e.preventDefault(),u(!0)},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||u(!1)},onDrop:e=>{e.preventDefault(),u(!1);let t=e.dataTransfer.getData("text/plain");t&&g&&g(t,p)},style:{backgroundColor:"#1e293b",borderRadius:"10px",padding:"10px",minHeight:"120px",border:f?"2px dashed ".concat(s):"1px solid #334155",maxHeight:"70vh",overflowY:"auto",transition:"border 0.15s, background-color 0.15s",...f?{backgroundColor:s+"10"}:{}},children:0===r.length?(0,o.jsx)("div",{style:{padding:"20px",textAlign:"center",fontSize:"12px",color:f?s:"#475569",fontStyle:"italic"},children:f?"Drop here":l}):r.map((e,t)=>(0,o.jsx)(TaskCard,{task:e,accentColor:i,isDone:isTaskDone(e,c,a),onToggle:d,onDragStart:()=>{},onDragEnd:()=>{}},e.id||t))})]})}function ProjectDetailView(e){let{project:t,onBack:r,completedIds:i,onToggle:l,dragOverrides:s,onDragDrop:a}=e,d=getAllTasks(t),c=getAssignees(t),p=c.length>0,[g,x]=(0,n.useState)(null),getEffectiveAssignee=e=>{let t=s[e.id];return void 0!==t?"__done__"===t?e.assignee:"__upnext__"===t?null:t:e.assignee},isEffectivelyDone=e=>{let r=s[e.id];return"__done__"===r||isTaskDone(e,t,i)},handleDrop=(e,r)=>{a&&a(e,r,t.id),x(null)};if(p){let e=sortByPriority(d.filter(e=>!isEffectivelyDone(e)&&!getEffectiveAssignee(e))),n=c.map(e=>({name:e,tasks:sortByPriority(d.filter(t=>!isEffectivelyDone(t)&&getEffectiveAssignee(t)===e))})),s=d.filter(e=>isEffectivelyDone(e)),a={mordy:"#f97316",yaakov:"#8b5cf6"};return(0,o.jsxs)("div",{children:[(0,o.jsx)(DetailHeader,{project:t,onBack:r}),(0,o.jsxs)("div",{style:{display:"flex",gap:"16px",overflowX:"auto",paddingBottom:"8px"},children:[(0,o.jsx)(TaskColumn,{title:"Up Next",tasks:e,accentColor:"#94a3b8",dotColor:"#94a3b8",emptyText:"All assigned!",completedIds:i,onToggle:l,project:t,columnId:"__upnext__",onDrop:handleDrop,draggingId:g}),n.map(e=>(0,o.jsx)(TaskColumn,{title:e.name.charAt(0).toUpperCase()+e.name.slice(1),tasks:e.tasks,accentColor:a[e.name]||"#60a5fa",dotColor:a[e.name]||"#60a5fa",emptyText:"Nothing for ".concat(e.name),completedIds:i,onToggle:l,project:t,columnId:e.name,onDrop:handleDrop,draggingId:g},e.name)),(0,o.jsx)(TaskColumn,{title:"Done",tasks:s,accentColor:"#4ade80",dotColor:"#4ade80",emptyText:"Nothing completed yet",completedIds:i,onToggle:l,project:t,columnId:"__done__",onDrop:handleDrop,draggingId:g})]})]})}let f=sortByPriority(d.filter(e=>!isEffectivelyDone(e))),u=d.filter(e=>isEffectivelyDone(e));return(0,o.jsxs)("div",{children:[(0,o.jsx)(DetailHeader,{project:t,onBack:r}),(0,o.jsxs)("div",{style:{display:"flex",gap:"16px",overflowX:"auto",paddingBottom:"8px"},children:[(0,o.jsx)(TaskColumn,{title:"Up Next",tasks:f,accentColor:"#94a3b8",dotColor:"#94a3b8",emptyText:"All done!",completedIds:i,onToggle:l,project:t,columnId:"__upnext__",onDrop:handleDrop,draggingId:g}),(0,o.jsx)(TaskColumn,{title:"Done",tasks:u,accentColor:"#4ade80",dotColor:"#4ade80",emptyText:"Nothing completed yet",completedIds:i,onToggle:l,project:t,columnId:"__done__",onDrop:handleDrop,draggingId:g})]})]})}function DetailHeader(e){let{project:t,onBack:r}=e;return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px"},children:[(0,o.jsxs)("button",{onClick:r,style:{background:"none",border:"1px solid #334155",borderRadius:"8px",color:"#94a3b8",padding:"8px 14px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",transition:"border-color 0.15s"},onMouseEnter:e=>e.currentTarget.style.borderColor="#64748b",onMouseLeave:e=>e.currentTarget.style.borderColor="#334155",children:[(0,o.jsx)("span",{style:{fontSize:"16px"},children:"←"})," All Projects"]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,o.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"8px",backgroundColor:t.color+"20",color:t.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:700},children:t.icon||t.name.charAt(0)}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:700,fontSize:"20px",color:"#f8fafc"},children:t.name}),t.description&&(0,o.jsx)("div",{style:{fontSize:"13px",color:"#64748b"},children:t.description})]})]})]})}function Home(){let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),[l,s]=(0,n.useState)(null),[a,d]=(0,n.useState)([]),[c,p]=(0,n.useState)({});(0,n.useEffect)(()=>{d(getCompletedIds()),p(getDragOverrides())},[]);let g=(0,n.useCallback)(e=>{d(t=>{let r=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("cc_done",JSON.stringify(r)),r}),p(t=>{let r={...t};return delete r[e],saveDragOverrides(r),r})},[]),x=(0,n.useCallback)((e,t,r)=>{"__done__"===t?(d(t=>{if(t.includes(e))return t;let r=[...t,e];return localStorage.setItem("cc_done",JSON.stringify(r)),r}),p(t=>{let r={...t};return delete r[e],saveDragOverrides(r),r})):(d(t=>{if(!t.includes(e))return t;let r=t.filter(t=>t!==e);return localStorage.setItem("cc_done",JSON.stringify(r)),r}),p(r=>{let o={...r,[e]:"__upnext__"===t?"__upnext__":t};return saveDragOverrides(o),o}))},[]);if((0,n.useEffect)(()=>{let load=async()=>{try{let e=await fetch("/status.json?t="+Date.now());if(!e.ok)throw Error("HTTP ".concat(e.status));let r=await e.json();t(r)}catch(e){s(e.message)}};load();let e=setInterval(load,6e4);return()=>clearInterval(e)},[]),l)return(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#0f172a",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",color:"#f87171",padding:"40px",textAlign:"center"},children:["Failed to load: ",l]})});if(!e)return(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#0f172a",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,o.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",color:"#64748b",padding:"40px",textAlign:"center"},children:"Loading..."})});let f=e.projects||[],u=r?f.find(e=>e.id===r):null,h=[];f.forEach(e=>{let t=getAssignees(e);t.length>0?(h.push({project:e,key:e.id,subtitle:e.name,filterAssignee:null}),t.forEach(t=>{h.push({project:e,key:"".concat(e.id,"-").concat(t),subtitle:"".concat(e.name," — ").concat(t.charAt(0).toUpperCase()+t.slice(1)),filterAssignee:t})})):h.push({project:e,key:e.id,subtitle:null,filterAssignee:void 0})});let y=f.reduce((e,t)=>{let r=getAllTasks(t);return e+r.filter(e=>!isTaskDone(e,t,a)).length},0),m=f.reduce((e,t)=>{let r=getAllTasks(t);return e+r.filter(e=>isTaskDone(e,t,a)).length},0),b=y+m;return(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#0f172a",padding:"24px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#f8fafc"},children:(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,o.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",paddingBottom:"16px",borderBottom:"1px solid #1e293b"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,o.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:800,color:"#fff"},children:"CC"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:700,fontSize:"18px",color:"#f8fafc"},children:"Command Center"}),(0,o.jsxs)("div",{style:{fontSize:"12px",color:"#64748b"},children:[f.length," projects \xb7 ",b," tasks"]})]})]}),e.lastUpdated&&(0,o.jsxs)("div",{style:{fontSize:"12px",color:"#64748b"},children:["Updated ",timeAgo(e.lastUpdated)]})]}),u?(0,o.jsx)(ProjectDetailView,{project:u,onBack:()=>i(null),completedIds:a,onToggle:g,dragOverrides:c,onDragDrop:x}):(0,o.jsxs)(o.Fragment,{children:[b>0&&(0,o.jsx)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[{label:"Up Next",count:y,color:"#94a3b8"},{label:"Done",count:m,color:"#4ade80"}].map(e=>(0,o.jsxs)("div",{style:{flex:1,backgroundColor:"#1e293b",borderRadius:"10px",border:"1px solid #334155",padding:"16px",textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"28px",fontWeight:700,color:e.color},children:e.count}),(0,o.jsx)("div",{style:{fontSize:"11px",color:"#64748b",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.5px"},children:e.label})]},e.label))}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:h.map(e=>(0,o.jsx)(ProjectOverviewCard,{project:e.project,completedIds:a,onClick:()=>i(e.project.id),subtitle:e.subtitle,filterAssignee:e.filterAssignee},e.key))})]})]})})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var o,i={},d=null,c=null;for(o in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,o)&&!a.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:n,type:e,key:d,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7118)}),_N_E=e.O()}]);